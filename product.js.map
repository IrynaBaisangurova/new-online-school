{"version":3,"file":"product.js","sources":["../src/app.js"],"sourcesContent":["let products = [\n    {\n        \"id\": 1,\n        \"name\": \"Яйця інкубаційні Фавероль\",\n        \"price\": 60,\n        \"unit\": \"шт\",\n        \"desc\": \"Кількість обмежена\",\n        \"image\": \"images/1eggs-faverol.jpg\"\n    },\n    {\n        \"id\": 2,\n        \"name\": \"Яйця інкубаційні Маран\",\n        \"price\": 60,\n        \"unit\": \"шт\",\n        \"desc\": \"Кількість обмежена\",\n        \"image\": \"images/2maran-eggs.jpg\"\n    },\n    {\n        \"id\": 3,\n        \"name\": \"Яйця інкубаційні Амераукан\",\n        \"price\": 70,\n        \"unit\": \"шт\",\n        \"desc\": \"Кількість обмежена\",\n        \"image\": \"images/3ameraukan.jpg\"\n    }\n    ,\n    {\n        \"id\": 4,\n        \"name\": \"Яйця інкубаційні Ухейілюй\",\n        \"price\": 70,\n        \"unit\": \"шт\",\n        \"desc\": \"Кількість обмежена\",\n        \"image\": \"images/4uheilui.jpg\"\n    },\n    {\n        \"id\": 5,\n        \"name\": \"Яйця перепілки\",\n        \"price\": 5,\n        \"unit\": \"шт\", \n        \"desc\": \"В наявності\",\n        \"image\": \"images/5quail-eggs.jpg\"\n    },\n    {\n        \"id\": 6,\n        \"name\": \"М'ясо перепілки\",\n        \"price\": 250,\n        \"unit\": \"кг\",\n        \"desc\": \"В наявності\",\n        \"image\": \"images/6quail.jpg\"\n    },\n    {\n        \"id\": 7,\n        \"name\": \"М'ясо бойлера\",\n        \"price\": 0,\n        \"unit\": \"кг\",\n        \"desc\": \"Очікується\",\n        \"image\": \"images/7chicken.jpg\"\n    },\n    {\n        \"id\": 8,\n        \"name\": \"М'ясо індика\",\n        \"price\": 0,\n        \"unit\": \"кг\",\n        \"desc\": \"Очікується\",\n        \"image\": \"images/8turk.jpg\"\n    },\n    {\n        \"id\": 9,\n        \"name\": \"М'ясо вутки\",\n        \"price\": 0,\n        \"unit\": \"кг\",\n        \"desc\": \"Очікується\",\n        \"image\": \"images/9duck.jpg\"\n    }\n]\n\n\nlet iconCart = document.querySelector('.iconCart');\nlet cart = document.querySelector('.cart');\nlet container = document.querySelector('.container');\nlet close = document.querySelector('.close');\n\niconCart.addEventListener('click', function(){\n    if(cart.style.right == '-100%'){\n        cart.style.right = '0';\n        container.style.transform = 'translateX(-400px)';\n    }else{\n        cart.style.right = '-100%';\n        container.style.transform = 'translateX(0)';\n    }\n})\nclose.addEventListener('click', function (){\n    cart.style.right = '-100%';\n    container.style.transform = 'translateX(0)';\n})\n\n\n// let products = null;\n// get data from file json\n// fetch('../product.json')\n//     .then(response => response.json())\n//     .then(data => {\n//         products = data;\n//         addDataToHTML();\n// })\n\n\n//show datas product in list \nfunction addDataToHTML(){\n    // remove datas default from HTML\n    let listProductHTML = document.querySelector('.listProduct');\n    listProductHTML.innerHTML = '';\n\n    // add new datas\n    if(products != null) // if has data\n    {\n        products.forEach(product => {\n            let newProduct = document.createElement('div');\n            newProduct.classList.add('item');\n            newProduct.innerHTML = \n            `<img src=\"${product.image}\" alt=\"\">\n            <h2>${product.name}</h2>\n             <div class=\"desc\">${product.desc}</div>\n            <div class=\"price\">₴${product.price} / 1 ${product.unit}</div>\n            <button onclick=\"addCart(${product.id})\">Додати до кошика</button>`;\n\n            listProductHTML.appendChild(newProduct);\n\n        });\n    }\n}\n//use cookie so the cart doesn't get lost on refresh page\n\n\nlet listCart = [];\nfunction checkCart(){\n    var cookieValue = document.cookie\n    .split('; ')\n    .find(row => row.startsWith('listCart='));\n    if(cookieValue){\n        listCart = JSON.parse(cookieValue.split('=')[1]);\n    }else{\n        listCart = [];\n    }\n}\ncheckCart();\nfunction addCart($idProduct){\n    let productsCopy = JSON.parse(JSON.stringify(products));\n    //// If this product is not in the cart\n    if(!listCart[$idProduct]) \n    {\n        listCart[$idProduct] = productsCopy.filter(product => product.id == $idProduct)[0];\n        listCart[$idProduct].quantity = 1;\n    }else{\n        //If this product is already in the cart.\n        //I just increased the quantity\n        listCart[$idProduct].quantity++;\n    }\n    document.cookie = \"listCart=\" + JSON.stringify(listCart) + \"; expires=Thu, 31 Dec 2025 23:59:59 UTC; path=/;\";\n\n    addCartToHTML();\n}\naddCartToHTML();\nfunction addCartToHTML(){\n    // clear data default\n    let listCartHTML = document.querySelector('.listCart');\n    listCartHTML.innerHTML = '';\n\n    let totalHTML = document.querySelector('.totalQuantity');\n    let totalQuantity = 0;\n    // if has product in Cart\n    if(listCart){\n        listCart.forEach(product => {\n            if(product){\n                let newCart = document.createElement('div');\n                newCart.classList.add('item');\n                newCart.innerHTML = \n                    `<img src=\"${product.image}\">\n                    <div class=\"content\">\n                        <div class=\"name\">${product.name}</div>\n                        <div class=\"price\">₴${product.price} / 1 ${product.unit}</div>\n                    </div>\n                    <div class=\"quantity\">\n                        <button onclick=\"changeQuantity(${product.id}, '-')\">-</button>\n                        <span class=\"value\">${product.quantity}</span>\n                        <button onclick=\"changeQuantity(${product.id}, '+')\">+</button>\n                    </div>`;\n                listCartHTML.appendChild(newCart);\n                totalQuantity = totalQuantity + product.quantity;\n            }\n        })\n    }\n    totalHTML.innerText = totalQuantity;\n}\nfunction changeQuantity($idProduct, $type){\n    switch ($type) {\n        case '+':\n            listCart[$idProduct].quantity++;\n            break;\n        case '-':\n            listCart[$idProduct].quantity--;\n\n            // if quantity <= 0 then remove product in cart\n            if(listCart[$idProduct].quantity <= 0){\n                delete listCart[$idProduct];\n            }\n            break;\n    \n        default:\n            break;\n    }\n    // save new data in cookie\n    document.cookie = \"listCart=\" + JSON.stringify(listCart) + \"; expires=Thu, 31 Dec 2025 23:59:59 UTC; path=/;\";\n    // reload html view cart\n    addCartToHTML();\n}\n"],"names":["iconCart","cart","container","close","listCart","checkCart","cookieValue","row","addCartToHTML","listCartHTML","totalHTML","totalQuantity","product","newCart"],"mappings":"6HA6EA,IAAIA,EAAW,SAAS,cAAc,WAAW,EAC7CC,EAAO,SAAS,cAAc,OAAO,EACrCC,EAAY,SAAS,cAAc,YAAY,EAC/CC,EAAQ,SAAS,cAAc,QAAQ,EAE3CH,EAAS,iBAAiB,QAAS,UAAU,CACtCC,EAAK,MAAM,OAAS,SACnBA,EAAK,MAAM,MAAQ,IACnBC,EAAU,MAAM,UAAY,uBAE5BD,EAAK,MAAM,MAAQ,QACnBC,EAAU,MAAM,UAAY,gBAEpC,CAAC,EACDC,EAAM,iBAAiB,QAAS,UAAW,CACvCF,EAAK,MAAM,MAAQ,QACnBC,EAAU,MAAM,UAAY,eAChC,CAAC,EAwCD,IAAIE,EAAW,CAAA,EACf,SAASC,GAAW,CAChB,IAAIC,EAAc,SAAS,OAC1B,MAAM,IAAI,EACV,KAAKC,GAAOA,EAAI,WAAW,WAAW,CAAC,EACrCD,EACCF,EAAW,KAAK,MAAME,EAAY,MAAM,GAAG,EAAE,CAAC,CAAC,EAE/CF,EAAW,CAAA,CAEnB,CACAC,IAiBAG,IACA,SAASA,GAAe,CAEpB,IAAIC,EAAe,SAAS,cAAc,WAAW,EACrDA,EAAa,UAAY,GAEzB,IAAIC,EAAY,SAAS,cAAc,gBAAgB,EACnDC,EAAgB,EAEjBP,GACCA,EAAS,QAAQQ,GAAW,CACxB,GAAGA,EAAQ,CACP,IAAIC,EAAU,SAAS,cAAc,KAAK,EAC1CA,EAAQ,UAAU,IAAI,MAAM,EAC5BA,EAAQ,UACJ,aAAaD,EAAQ,KAAK;AAAA;AAAA,4CAEFA,EAAQ,IAAI;AAAA,8CACVA,EAAQ,KAAK,QAAQA,EAAQ,IAAI;AAAA;AAAA;AAAA,0DAGrBA,EAAQ,EAAE;AAAA,8CACtBA,EAAQ,QAAQ;AAAA,0DACJA,EAAQ,EAAE;AAAA,4BAEpDH,EAAa,YAAYI,CAAO,EAChCF,EAAgBA,EAAgBC,EAAQ,QAC3C,CACb,CAAS,EAELF,EAAU,UAAYC,CAC1B"}